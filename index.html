<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>mapbar_front | mapbar_front 的个人网站</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,height=device-height,initial-scale=1,user-scalable=0">
    <meta name="description" content="想法，随笔，博客，记录，学习...">
    <meta name="keywords" content="mapbar_front，前端，个人网站，博客，记录，随笔...">
    <link rel="icon" href="http://www.barretlee.com/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href="./public/css/common.css">
    <link rel="stylesheet" href="./public/css/index.css">
</head>
<body>
    <div id="root" class="center">
        <div id="entry" class="flex-box flex-col color-white">

            <div class="flex1">
                <h2 class="center">李武帝的个人网站</h2>
                <h3 class="center">mapbar_front's personal website</h3>
            </div>
            <div class="flex1 pd20">
                <p>
                    <a href="/blog">博客</a>
                    <a href="/message">问答</a>
                    <a href="/demo">实验</a>
                    <a href="/about">关于</a>
                </p>
                <p class="mt20">
                    <a href="/blog">博客</a>
                    <a href="/message">问答</a>
                    <a href="/demo">实验</a>
                    <a href="/about">关于</a>
                </p>
            </div>
        </div>
    </div>
</body>
<script>
    function ajax(options) {
        var type = options.type || 'GET';
        var url = options.url;
        var sucFun = options.sucFun;
        var params = options.data || {};
        var data = new FormData();
        if(type == 'POST'){
            for(var item in params){
                data.append(item, params[item]);
            }
        }

        var xhr = new XMLHttpRequest();
        xhr.open(type,url,true);
        xhr.send(data);
        xhr.onreadystatechange = function (e) {
            if((xhr.readyState==4) && (xhr.status == 200)){
                console.log(JSON.parse(xhr.response));
                var data = JSON.parse(xhr.response);
                sucFun && sucFun(data)
            }
        }
    }
    ajax({
       type: 'POST',
        url: 'http://192.168.1.106:8080/book/addbook',
        data: {
            author: '张三',
            sex: 1,
            title: '我的完美世界',
            price: 44
        },
        sucFun: function (data) {
            console.log(data);
        }
    })

</script>
</html>